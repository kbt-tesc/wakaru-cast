<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameCast CSS Animation</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vivus/0.4.6/vivus.min.js" type="text/javascript"></script>
    <script src="https://www.youtube.com/iframe_api" type="text/javascript"></script>
</head>
<body>
    <svg 
        width="185mm" height="185mm" id="gamecast_wakaru"
        viewBox="0 0 700 700">
    <defs>
        <style>
        #wa[class*=done],
        #ka[class*=done],
        #ru[class*=done] {
            fill: #1c6d0b;
            animation: svgchar 1s ease-in both;
        }

        #body[class*=done],
        #right_eye[class*=done],
        #left_eye[class*=done],
        #nose[class*=done] {
            fill: #000;
            animation: svg 1s ease-in both;
        }

        @keyframes svgchar {
            0% {
            fill: transparent;
            }
            30%{
            fill: transparent;
            }
            50%{
            fill: #1c6d0b;
            }
        }
        @keyframes svg {
            0% {
            fill: transparent;
            }
            30%{
            fill: transparent;
            }
            50%{
            fill: #000;
            }
        }
        </style>
    </defs>
    <path id="wa"
            fill="none" stroke="#1c6d0b" stroke-width="1"
            d="M 78,80
            C 79,55 80,37 82,28
            83,16 90,10 102,10
            116,10 123,17 123,32
            123,32 122,57 121,68
            125,68 128,70 131,71
            136,75 139,81 139,87
            139,92 137,96 134,101
            132,104 128,109 124,116
            122,118 121,121 119,124
            119,124 118,143 118,143
            159,113 196,98 230,98
            255,98 275,104 291,117
            310,132 319,153 319,181
            319,208 310,231 293,250
            277,267 256,278 230,285
            224,287 220,287 216,287
            205,287 200,282 200,271
            200,265 205,260 215,256
            228,251 239,245 247,238
            265,223 275,204 275,182
            275,170 271,160 264,152
            255,141 242,136 226,136
            197,136 161,153 116,186
            116,186 114,291 114,291
            114,308 108,317 94,317
            86,317 80,314 76,309
            74,305 73,299 73,290
            73,257 73,235 73,223
            62,232 54,240 47,247
            40,254 34,257 29,257
            23,257 19,255 14,250
            10,245 8,240 8,235
            8,229 10,224 16,219
            23,212 30,205 36,197
            45,186 58,166 75,138
            76,131 76,125 76,120
            53,129 38,133 31,133
            23,133 17,129 14,122
            13,118 12,115 12,111
            12,102 19,95 32,92
            45,89 60,85 78,80 Z" />
    <path id="ka"
            fill="none" stroke="#1c6d0b" stroke-width="1"
            d="M 482,94
            C 482,94 490,94 490,94
            530,94 550,112 550,147
            550,171 545,199 536,231
            527,259 518,279 509,291
            500,302 490,308 478,308
            465,308 452,299 438,282
            432,275 429,269 429,264
            429,261 430,259 432,256
            434,253 437,252 441,252
            445,252 448,253 452,257
            460,262 465,265 468,265
            473,265 478,259 484,247
            490,234 496,216 500,195
            504,178 506,164 506,152
            506,140 499,134 486,134
            483,134 480,134 476,134
            473,134 470,134 468,134
            451,176 434,214 416,247
            412,255 409,259 408,261
            403,268 397,271 390,271
            385,271 381,270 378,267
            372,262 369,257 369,250
            369,246 371,240 376,232
            393,202 408,171 421,139
            406,141 385,144 384,144
            379,144 375,142 372,138
            369,135 367,130 367,123
            367,112 374,105 388,103
            406,101 422,99 437,98
            446,73 454,52 459,33
            462,22 468,17 479,17
            484,17 488,18 493,20
            499,24 502,29 502,35
            502,41 495,61 482,94 Z
            M 601,80
            C 610,80 622,90 640,110
            666,139 679,160 679,173
            679,181 675,188 668,192
            663,195 659,196 654,196
            647,196 641,193 637,187
            636,186 634,183 632,178
            622,157 608,134 589,109
            586,105 584,100 584,96
            584,91 586,87 589,84
            593,81 597,80 601,80 Z" />
    <path id="ru"
            fill="none" stroke="#1c6d0b" stroke-width="1"
            d="M 558,423
            C 522,430 500,433 491,433
            485,433 479,431 476,427
            473,423 471,419 471,413
            471,403 475,397 484,393
            486,392 492,392 499,391
            533,389 562,385 584,379
            587,379 589,378 591,378
            600,378 607,382 613,389
            617,393 619,399 619,404
            619,410 616,415 612,420
            597,436 563,469 508,518
            508,518 509,520 509,520
            531,506 555,499 581,499
            605,499 626,505 642,516
            663,530 673,550 673,574
            673,607 659,632 630,649
            609,661 583,667 551,667
            535,667 520,663 508,656
            492,646 484,634 484,618
            484,606 490,596 500,588
            511,580 526,576 543,576
            571,576 594,588 611,613
            622,602 628,589 628,575
            628,561 622,551 611,543
            602,537 591,534 577,534
            537,534 501,547 467,573
            461,578 455,580 450,580
            445,580 440,578 436,573
            432,568 430,563 430,557
            430,551 432,546 436,542
            437,541 440,538 446,533
            486,498 524,462 560,424
            560,424 558,423 558,423 Z
            M 579,629
            C 567,615 555,607 542,607
            529,607 522,611 522,619
            522,623 524,626 528,628
            533,631 541,633 550,633
            561,633 569,632 576,630
            577,630 578,630 579,629 Z" />
    <path id="body"
            fill="none" stroke="black" stroke-width="1"
            d="M 0,700 0,660 0,660
            C 0,700 0,660 0,660
            0,660 3,618 3,618
            7,586 11,555 17,525
            17,525 29,464 29,464
            31,456 35,441 34,434
            34,434 22,363 22,363
            22,363 17,338 18,336
            19,334 120,316 120,316
            120,316 143,311 145,312
            147,314 161,393 161,393
            161,393 187,392 187,392
            187,392 183,312 185,310
            186,308 189,309 191,308
            191,308 204,308 204,308
            204,308 225,307 225,307
            225,307 262,307 262,307
            280,307 320,314 339,319
            339,319 321,414 321,414
            329,414 355,425 364,429
            382,438 396,446 410,462
            432,484 449,522 450,554
            450,554 450,571 450,571
            449,583 444,602 437,613
            423,634 402,645 379,653
            379,653 354,659 354,659
            351,660 344,660 343,662
            342,664 349,700 349,700
            349,700 308,700 308,700
            308,700 303,668 303,668
            303,668 278,671 277,668
            277,667 274,630 274,630
            274,630 301,627 301,627
            301,627 322,624 322,624
            351,619 399,613 408,579
            409,573 409,570 410,565
            410,551 409,547 406,535
            402,520 395,506 385,495
            364,470 335,460 306,450
            306,450 275,442 275,442
            275,442 292,350 292,350
            292,350 257,347 257,347
            257,347 225,347 225,347
            225,347 228,430 228,430
            228,430 127,434 127,434
            127,434 117,380 117,380
            117,376 115,362 112,360
            110,359 64,368 64,368
            64,368 76,438 76,438
            76,438 73,452 73,452
            73,452 65,491 65,491
            65,491 48,584 48,584
            48,584 44,620 44,620
            44,620 40,658 40,658
            40,658 38,681 38,681
            38,681 36,699 36,699
            36,699 0,700 0,700 Z" />
    <path id="right_eye"
            fill="none" stroke="black" stroke-width="1"
            d="M 219,505
            C 219,505 218,466 218,466
            218,466 319,464 319,464
            319,464 320,502 320,502
            320,502 219,505 219,505 Z" />
    <path id="left_eye"
            fill="none" stroke="black" stroke-width="1"
            d="M 90,465
            C 90,465 197,464 197,464
            197,464 198,503 198,503
            198,503 91,504 91,504
            91,504 90,465 90,465 Z" />
    <path id="nose"
            fill="none" stroke="black" stroke-width="1"
            d="M 372,547
            C 380,546 388,547 394,554
            404,564 396,579 384,582
            377,583 370,583 365,579
            354,572 354,559 364,551
            366,549 368,548 372,547 Z" />
    </svg>

    <div id="player"></div>

    <script>
    (function() {
        new Vivus('gamecast_wakaru', { duration: 300 },
                elm => {
        children = elm.el.children;
        Array.prototype.forEach.call(children, path => {
            if(path.nodeName=="path") path.classList.add('done');
        });
        });
    }())
    </script>

    <script>
    // 3. This function creates an <iframe> (and YouTube player)
    //    after the API code downloads
    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
        height: '360',
        width: '640',
        videoId: 'JHR1N627j40',
        playerVars: {
            autoplay: 1,
            start:0,
            end:6,
        },
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
        }
        });
    }

    // 流す
    function onPlayerReady(event) {
        return;
        event.target.playVideo();
    }

    // playVideoでonPlayerStateChangeが来るので6秒後に停止
    var done = false;
    function onPlayerStateChange(event) {
        return;
        if (event.data == YT.PlayerState.PLAYING && !done) {
            setTimeout(stopVideo, 6000);
            done = true;
        }
    }
    function stopVideo() {
        player.stopVideo();
    }
    </script>
</body>
</body>
</html>